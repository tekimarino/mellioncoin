{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4 class="mb-0">Tableau de bord</h4>
  <div class="btn-group">
    <a class="btn btn-outline-primary btn-sm" href="{{ url_for('export_dashboard', fmt='csv') }}">Exporter CSV</a>
    <a class="btn btn-outline-primary btn-sm" href="{{ url_for('export_dashboard', fmt='pdf') }}">Exporter PDF</a>
  </div>
</div>

{% if not rows %}
  <div class="alert alert-info">Aucun enregistrement pour le moment.</div>
{% else %}
  <div class="table-responsive card shadow-sm">
    <table class="table table-sm table-striped mb-0">
      <thead class="table-light">
        <tr>
          <th>Date calcul</th>
          <th>Date fin</th>
          <th>Montant investi</th>
          <th>Intérêts</th>
          <th>Commissions</th>
          <th>Com. suppl.</th>
          <th>Revenu global</th>
          <th>MEC</th>
          <th>Circulation</th>
          <th>Rendement</th>
        </tr>
      </thead>
      <tbody>
      {% for row in rows %}
        <tr>
          <td>{{ row.date_calcul }}</td>
          <td>{{ row.date_fin_cycle }}</td>
          <td>{{ row.montant_investi }}</td>
          <td>{{ row.interets }}</td>
          <td>{{ row.commissions }}</td>
          <td>{{ row.commission_supplementaire }}</td>
          <td>{{ row.revenu_global }}</td>
          <td>{{ row.MEC }}</td>
          <td>{{ row.circulation }}</td>
          <td>{{ row.rendement }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endif %}
{% endblock %}
